---
import Layout from "@layouts/Layout.astro";
import HelloWorld from "@components/HelloWorld";

import "@styles/global.scss";
---

<Layout title="About Astro">
  <main>
    <h1>
      ABOUT <span class="inline-gradient inline-glow">Astro</span><i>▶</i>
    </h1>
    <astro-typed-hello></astro-typed-hello>
    <!-- <button id="typing">タイプする</button> -->
    <HelloWorld name="React Component" client:load />
  </main>
</Layout>

<style lang="scss">
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 60ch;
  }
  h1 {
    font-size: 3rem;
    font-family: "Helvetica Neue", Helvetica, sans-serif !important;
    font-weight: 800;
    margin: 0;
    color: white;
    background-color: #000;
    padding: 16px;
    > i {
      color: aqua;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",
        sans-serif;
      font-style: normal;
    }
  }
  .inline-gradient {
    color: transparent;
    background-image: linear-gradient(
      90deg,
      rgba(34, 193, 195, 1) 0%,
      rgba(253, 187, 45, 1) 80%
    );
    background-clip: text;
  }
  .inline-glow {
    text-shadow: 0 0 80px rgb(192 219 255 / 75%), 0 0 32px rgb(65 120 255 / 24%);
  }
</style>

<script>
  // 外部ライブラリも読み込み可能
  import Typed from "typed.js";

  // document.getElementById("typing").addEventListener("click", (evt) => {
  //   new Typed(".typed", {
  //     strings: ["Hi, ", "わたしは", "アストロだよ"],
  //     typeSpeed: 40,
  //     showCursor: false,
  //     onComplete: () => {
  //       console.log("typed DONE");
  //     },
  //   });
  //   evt.preventDefault();
  // });

  // Web コンポーネントを登録して使うパターン
  class AstroTypedHello extends HTMLElement {
    constructor() {
      super();

      new Typed(this, {
        strings: ["Hi, ", "わたしは", "アストロだよ"],
        typeSpeed: 40,
        onComplete: () => {
          console.log("typed DONE");
        },
      });
    }
  }
  customElements.define("astro-typed-hello", AstroTypedHello);
</script>
